# CODING GUIDELINES AND INSTRUCTIONS

## CRITICAL RULES - NEVER BREAK THESE

### 1. CHARACTER RESTRICTIONS
- NO EMOJIS EVER (üöÄ‚ùå‚úÖ‚ö†Ô∏èüéØ etc.)
- NO ACCENTED CHARACTERS (√ß√£o, √£, √©, √±, etc.)
- NO CEDILLAS (√ß)  
- NO SPECIAL UNICODE CHARACTERS
- USE ONLY ASCII characters (a-z, A-Z, 0-9, basic punctuation)
- Replace: "fun√ß√£o" -> "funcao", "configura√ß√£o" -> "configuracao"

### 2. CODE PHILOSOPHY
- RESPECT LEGACY CODE - Do not rewrite existing working code
- SUGGEST GRADUAL IMPROVEMENTS only
- CREATE NEW FILES with _dev suffix for major changes
- NO PULL REQUESTS - work directly on main branch
- PRESERVE EXISTING PATTERNS and naming conventions
- ASK before making breaking changes

### 3. CROSS-REFERENCE INTEGRITY
- ALL file references must be EXACT and CURRENT
- Check file existence before referencing
- Update ALL references when moving/renaming files
- No broken imports or missing file references
- Maintain working entry points

### 4. COMMAND LINE STANDARDS
- ALL scripts must have default entry behavior
- ALL scripts must support --help and --version flags
- Provide clear usage examples
- Handle missing arguments gracefully

### 5. DEPENDENCY MANAGEMENT  
- Use built-in Python modules when possible (tkinter is built-in)
- Verify imports correctly before suggesting pip installs
- Test dependency checks properly

## REPOSITORY STRUCTURE RULES

### File Organization
```
root/
‚îú‚îÄ‚îÄ start_*.py          # Entry points (must work)
‚îú‚îÄ‚îÄ src/               # Core modules
‚îú‚îÄ‚îÄ utils/             # Utilities
‚îú‚îÄ‚îÄ tests/             # Working test files
‚îú‚îÄ‚îÄ docs/              # Documentation (no emojis)
‚îú‚îÄ‚îÄ data/              # Data files
‚îú‚îÄ‚îÄ reports/           # Generated reports
‚îî‚îÄ‚îÄ legacy/            # Old/deprecated files
```

### Naming Conventions
- Use underscore_case for files
- Avoid version numbers in filenames (v2, v3)
- Use descriptive, professional names
- No "executive", "improved", "advanced" in names

## TESTING REQUIREMENTS

### All Tests Must:
- Actually run without errors
- Have clear, working examples
- Be maintained and updated
- Use real, existing file paths
- Handle missing dependencies gracefully

### Entry Points Must:
- Work when called without arguments (show help)
- Support --help, --version, -h, -v flags
- Provide working examples in help text
- Exit gracefully on errors

## AI ASSISTANT BEHAVIOR

### When Editing Code:
1. READ existing code first
2. UNDERSTAND current patterns
3. SUGGEST improvements, don't assume
4. CREATE _dev versions for major changes
5. PRESERVE working functionality
6. TEST references and imports

### When Creating Documentation:
1. NO emojis, accents, or special characters
2. Use plain ASCII text only
3. Provide clear, working examples
4. Keep technical, professional tone

### When Fixing Bugs:
1. Find ROOT CAUSE of the problem
2. Fix ALL related instances
3. Update ALL cross-references
4. Test the fix works
5. Don't introduce new problems

## COMMON MISTAKES TO AVOID

### File References
- Don't reference moved/renamed files with old names
- Don't assume file locations without checking
- Update import statements when moving files
- Maintain entry point compatibility

### Dependencies
- Don't suggest pip install for built-in modules
- Verify import syntax before suggesting fixes
- Test dependency checks work correctly
- Handle missing optional dependencies gracefully

### Character Usage
- Never use emojis in ANY output
- Replace accented characters with ASCII equivalents  
- Use professional, neutral language
- Avoid casual/informal expressions

## IMPLEMENTATION CHECKLIST

Before submitting any code:
- [ ] No emojis, accents, or special characters
- [ ] All file references are current and correct
- [ ] All imports work and files exist
- [ ] Entry points have --help and --version
- [ ] Default behavior works without arguments
- [ ] Cross-references are updated
- [ ] Tests actually run and pass
- [ ] Documentation uses plain ASCII
- [ ] Respects existing code patterns
- [ ] Gradual improvements, not rewrites

## PROJECT-SPECIFIC GUIDELINES (RENAMEPDFEPUB)

These complement the global rules with expectations specific to this repository:

- Editing conduct: sober, professional tone; avoid hype terms (final/ultra/definitivo/melhorado/refinado/superior).
- Modular design: use specialized, descriptive functions; group related logic; imports at file top; add concise docstrings for new functions.
- UI/UX: add inline hints and non-blocking validation; group rename controls in a single row (pattern/underscore/preview/apply); keep interfaces responsive with background work and clear feedback; avoid ‚Äúcringe‚Äù or playful copy.
- Rename patterns: allowed placeholders {title}, {author}, {year}, {publisher}, {isbn}; validate and warn the user; keep sanitization consistent (ASCII fallback, underscore option).
- Error handling: no try/except just to silence errors; provide meaningful handling and centralized logging; avoid raw stack traces in UI.
- Rollback and safety: dry-run first; create backups before destructive DB/file changes; separate preview from apply.
- Testing: write meaningful tests for each feature; avoid trivial tests; validate expected UI behaviors when feasible.
- Performance: limit previews and log reads; use efficient queries; ensure background tasks do not block the UI.
- CLI usage: avoid very long command lines and quoting pitfalls; prefer short flags or config files.
- Cross-platform: keep Windows 11, macOS, and Debian 13 compatibility; handle PyQt6 font/spacing differences on macOS as needed.
- Environment: maintain up-to-date requirements.txt; prefer project-specific virtualenv (venv/pyenv/direnv) with activation/deactivation scripts when applicable.
- Documentation: update relevant docs on behavior changes; keep short ‚Äúwhat changed/what next‚Äù notes; maintain CHANGELOG entries when appropriate.

## ONEDRIVE INTEGRATION NOTES

OneDrive shared folder URLs like:
https://1drv.ms/f/c/0de835881591763e/Ej52kRWINegggA3jDQIAAAABymzoY0BNi6VWqqlifiJgRw?e=ZKiFKs

Can be used for READ-ONLY file listing and metadata extraction:
- Extract file names from directory listings
- Get file metadata without downloading
- Create prediction caches for remote files  
- Generate file lists for batch processing
- NO editing or modification of online files

These URLs work with Microsoft Graph API or web scraping for file enumeration.
