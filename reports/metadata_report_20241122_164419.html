
        <!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>Book Metadata Extraction Report</title>
            <style>
                body {
                    font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
                    line-height: 1.5;
                    max-width: 1200px;
                    margin: 0 auto;
                    padding: 20px;
                    background: #f8f9fa;
                }
                .card {
                    background: white;
                    border-radius: 8px;
                    padding: 20px;
                    margin-bottom: 20px;
                    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                }
                table {
                    width: 100%;
                    border-collapse: collapse;
                    margin: 1em 0;
                }
                th, td {
                    padding: 12px;
                    border: 1px solid #dee2e6;
                    text-align: left;
                }
                th { background: #f8f9fa; }
                tr:hover { background: #f8f9fa; }
                .success { color: #28a745; }
                .warning { color: #ffc107; }
                .failure { color: #dc3545; }
                .chart-container {
                    height: 400px;
                    margin: 20px 0;
                }
                .file-path {
                    font-family: monospace;
                    font-size: 0.9em;
                }
                .error-detail {
                    color: #dc3545;
                    font-size: 0.9em;
                }
                .todo-note {
                    background: #fff3cd;
                    border-left: 4px solid #ffc107;
                    padding: 15px;
                    margin: 20px 0;
                    border-radius: 4px;
                }
                .tabs {
                    display: flex;
                    margin-bottom: 20px;
                }
                .tab {
                    padding: 10px 20px;
                    cursor: pointer;
                    border: none;
                    background: #f8f9fa;
                    margin-right: 5px;
                    border-radius: 4px 4px 0 0;
                }
                .tab.active {
                    background: white;
                    border-bottom: 2px solid #007bff;
                }
                .tab-content {
                    display: none;
                }
                .tab-content.active {
                    display: block;
                }
            </style>
            <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        </head>
        <body>
            <h1>Book Metadata Extraction Report</h1>
            <p>Generated: 2024-11-22 16:44:19</p>
            
            <div class="tabs">
                <button class="tab active" onclick="openTab(event, 'overview')">Overview</button>
                <button class="tab" onclick="openTab(event, 'api-stats')">API Stats</button>
                <button class="tab" onclick="openTab(event, 'publishers')">Publishers</button>
                <button class="tab" onclick="openTab(event, 'results')">Results</button>
                <button class="tab" onclick="openTab(event, 'failures')">Failed Files</button>
            </div>

            <div id="overview" class="tab-content active">
                <div class="card">
                    <h2>Overview</h2>
                    <table>
                        <tr>
                            <th>Total Files Processed</th>
                            <td>13</td>
                        </tr>
                        <tr>
                            <th>Successful Extractions</th>
                            <td class="success">11</td>
                        </tr>
                        <tr>
                            <th>Failed Extractions</th>
                            <td class="failure">2</td>
                        </tr>
                        <tr>
                            <th>Success Rate</th>
                            <td>84.6%</td>
                        </tr>
                        <tr>
                            <th>Average Processing Time</th>
                            <td>18.61s</td>
                        </tr>
                    </table>
                    <div id="summaryChart" class="chart-container"></div>
                </div>
            </div>

            <div id="api-stats" class="tab-content">
                <div class="card">
                    <h2>API Performance</h2>
                    <div id="apiChart" class="chart-container"></div>
                    <table>
                        <tr>
                            <th>API Source</th>
                            <th>Successful Extractions</th>
                            <th>Success Rate</th>
                        </tr>
                        
            <tr>
                <td>isbnlib_info</td>
                <td>5</td>
                <td>45.5%</td>
            </tr>
            
            <tr>
                <td>fallback</td>
                <td>3</td>
                <td>27.3%</td>
            </tr>
            
            <tr>
                <td>openlibrary</td>
                <td>3</td>
                <td>27.3%</td>
            </tr>
            
                    </table>
                </div>
            </div>

            <div id="publishers" class="tab-content">
                <div class="card">
                    <h2>Publisher Statistics</h2>
                    <div id="publisherChart" class="chart-container"></div>
                    <table>
                        <tr>
                            <th>Publisher</th>
                            <th>Books</th>
                            <th>Percentage</th>
                        </tr>
                        
            <tr>
                <td>National Geographic Books</td>
                <td>1</td>
                <td>9.1%</td>
            </tr>
            
            <tr>
                <td>John Wiley & Sons</td>
                <td>1</td>
                <td>9.1%</td>
            </tr>
            
            <tr>
                <td>Casa do Código</td>
                <td>2</td>
                <td>18.2%</td>
            </tr>
            
            <tr>
                <td>Wiley & Sons, Incorporated, John</td>
                <td>1</td>
                <td>9.1%</td>
            </tr>
            
            <tr>
                <td>O'Reilly Media</td>
                <td>2</td>
                <td>18.2%</td>
            </tr>
            
            <tr>
                <td>No Starch Press</td>
                <td>1</td>
                <td>9.1%</td>
            </tr>
            
            <tr>
                <td></td>
                <td>1</td>
                <td>9.1%</td>
            </tr>
            
            <tr>
                <td>O'Reilly Media, Incorporated</td>
                <td>1</td>
                <td>9.1%</td>
            </tr>
            
            <tr>
                <td>Novatec</td>
                <td>1</td>
                <td>9.1%</td>
            </tr>
            
                    </table>
                </div>
            </div>

            <div id="results" class="tab-content">
                <div class="card">
                    <h2>Successful Results</h2>
                    <table>
                        <tr>
                            <th>Title</th>
                            <th>Authors</th>
                            <th>Publisher</th>
                            <th>ISBN</th>
                            <th>Confidence</th>
                            <th>Source</th>
                        </tr>
                        
                <tr>
                    <td>Bug Bounty Bootcamp - The Guide To Finding And Reporting Web Vulnerabilities</td>
                    <td>Vickie Li</td>
                    <td>National Geographic Books</td>
                    <td>9781718501546</td>
                    <td>0.93</td>
                    <td>isbnlib_info</td>
                </tr>
                
                <tr>
                    <td>The Active Defender - Immersion In The Offensive Security Mindset</td>
                    <td>Dr. Catherine J. Ullman</td>
                    <td>John Wiley & Sons</td>
                    <td>9781119895237</td>
                    <td>1.03</td>
                    <td>isbnlib_info</td>
                </tr>
                
                <tr>
                    <td>ISBN 9786586110340</td>
                    <td>Unknown</td>
                    <td>Casa do Código</td>
                    <td>9786586110340</td>
                    <td>0.30</td>
                    <td>fallback</td>
                </tr>
                
                <tr>
                    <td>ISBN 9786586593181</td>
                    <td>Unknown</td>
                    <td>Casa do Código</td>
                    <td>9786586593181</td>
                    <td>0.30</td>
                    <td>fallback</td>
                </tr>
                
                <tr>
                    <td>Software Transparency</td>
                    <td>Chris Hughes, Tony Turner</td>
                    <td>Wiley & Sons, Incorporated, John</td>
                    <td>9781394158508</td>
                    <td>0.69</td>
                    <td>openlibrary</td>
                </tr>
                
                <tr>
                    <td>Ansible: Up And Running - Automating Configuration Management And Deployment The Easy Way</td>
                    <td>Bas Meijer, Lorin Hochstein, René Moser</td>
                    <td>O'Reilly Media</td>
                    <td>9781098109158</td>
                    <td>0.93</td>
                    <td>isbnlib_info</td>
                </tr>
                
                <tr>
                    <td>The Hardware Hacking Handbook - Breaking Embedded Security With Hardware Attacks</td>
                    <td>Jasper van Woudenberg, Colin O'Flynn</td>
                    <td>No Starch Press</td>
                    <td>9781593278748</td>
                    <td>0.93</td>
                    <td>isbnlib_info</td>
                </tr>
                
                <tr>
                    <td>Applied Machine Learning And High-Performance Computing On AWS - Accelerate The Development Of Machine Learning Applications Following Architectural Best Practices</td>
                    <td>Mani Khanuja, Farooq Sabir, Shreyas Subramanian</td>
                    <td></td>
                    <td>9781803237015</td>
                    <td>0.93</td>
                    <td>isbnlib_info</td>
                </tr>
                
                <tr>
                    <td>bash Cookbook</td>
                    <td>Carl Albing, JP Vossen</td>
                    <td>O'Reilly Media</td>
                    <td>9781491975336</td>
                    <td>0.59</td>
                    <td>openlibrary</td>
                </tr>
                
                <tr>
                    <td>Java Performance</td>
                    <td>Scott Oaks</td>
                    <td>O'Reilly Media, Incorporated</td>
                    <td>9781492056119</td>
                    <td>0.59</td>
                    <td>openlibrary</td>
                </tr>
                
                <tr>
                    <td>ISBN 9788575227510</td>
                    <td>Unknown</td>
                    <td>Novatec</td>
                    <td>9788575227510</td>
                    <td>0.40</td>
                    <td>fallback</td>
                </tr>
                
                    </table>
                </div>
            </div>

            <div id="failures" class="tab-content">
                <div class="card">
                    <h2>Failed Files Analysis</h2>
                    <div class="todo-note">
                        <strong>TO DO:</strong> Implement aggressive detection methods for these files
                    </div>
                    <table>
                        <tr>
                            <th>File Path</th>
                            <th>Status</th>
                            <th>Extraction Methods</th>
                            <th>Found ISBNs</th>
                            <th>Publisher</th>
                            <th>Errors</th>
                        </tr>
                        
            <tr>
                <td class="file-path">/Users/menon/Downloads/ApLatex 4.pdf</td>
                <td>ISBN não encontrado no arquivo</td>
                <td>PyPDF2</td>
                <td>None</td>
                <td>unknown</td>
                <td class="error-detail"></td>
            </tr>
            
            <tr>
                <td class="file-path">/Users/menon/Downloads/Hands-On Artificial Intelligence for Banking.pdf</td>
                <td>ISBN não encontrado no arquivo</td>
                <td>PyPDF2</td>
                <td>None</td>
                <td>packt</td>
                <td class="error-detail"></td>
            </tr>
            
                    </table>
                </div>
            </div>

            <script>
            function openTab(evt, tabName) {
                var i, tabcontent, tablinks;
                tabcontent = document.getElementsByClassName("tab-content");
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].className = tabcontent[i].className.replace(" active", "");
                }
                tablinks = document.getElementsByClassName("tab");
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].className = tablinks[i].className.replace(" active", "");
                }
                document.getElementById(tabName).className += " active";
                evt.currentTarget.className += " active";
                
                // Reflow charts when tab is shown
                if (tabName === 'overview') {
                    Plotly.relayout('summaryChart', {});
                } else if (tabName === 'api-stats') {
                    Plotly.relayout('apiChart', {});
                } else if (tabName === 'publishers') {
                    Plotly.relayout('publisherChart', {});
                }
            }

            // Summary Chart
            const summaryData = [{
                values: [11, 2],
                labels: ['Successful', 'Failed'],
                type: 'pie',
                marker: {
                    colors: ['#28a745', '#dc3545']
                }
            }];
            Plotly.newPlot('summaryChart', summaryData);

            // API Performance Chart
            const apiData = [{
                x: ["'isbnlib_info'", "'fallback'", "'openlibrary'"],
                y: [5, 3, 3],
                type: 'bar',
                marker: {
                    color: '#17a2b8'
                }
            }];
            const apiLayout = {
                title: 'Successful Extractions by API',
                xaxis: { tickangle: -45 }
            };
            Plotly.newPlot('apiChart', apiData, apiLayout);

            // Publisher Chart
            const publisherData = [{
                labels: ["'National Geographic Books'", "'John Wiley & Sons'", "'Casa do Código'", "'Wiley & Sons, Incorporated, John'", '"O\'Reilly Media"', "'No Starch Press'", "''", '"O\'Reilly Media, Incorporated"', "'Novatec'"],
                values: [1, 1, 2, 1, 2, 1, 1, 1, 1],
                type: 'pie'
            }];
            Plotly.newPlot('publisherChart', publisherData);
            </script>
        </body>
        </html>
        